
groupadd dap
useradd -m -g dap -G sudo, vboxsf -s /bin/bash dap
passwd dap  # set password value to "dap"


# install ansible
sudo apt-get install python3-pip
python3 -m pip install --user ansible
add to .bashrc   export PATH="$PATH:~/.local/bin"
source ~./bashrc


ansible-playbook -i hosts --ask-become-pass main.yml

Update compose


   1)  I pull latest images:

    docker compose pull

    2) Then I restart containers:

    docker compose up -d --remove-orphans

   3) Optionally, I remove obsolete images:

    docker image prune


docker compose --profile first-stage --profile second-stage up

docker compose \
--project-name dataanalysisplatform \
--file service-compose.yaml \
--profile first-stage \
  up

docker-compose down
docker-compose run --rm
docker-compose rm -f
docker compose ls


select * from pg_settings
where name like '%ssl%'

select pg_ssl.pid, pg_ssl.ssl, pg_ssl.version,
           pg_sa.backend_type, pg_sa.usename, pg_sa.client_addr, pg_sa.application_name
           from pg_stat_ssl pg_ssl
           join pg_stat_activity pg_sa
             on pg_ssl.pid = pg_sa.pid;



docker compose logs minio

-v ${PLATFORM_PATH_DATA}/runner_gitlab-runner-generic-1/etc.gitlab-runner:/etc/gitlab-runner \

docker run \
--rm -it \
-v {{ paths.data }}/{{ host_prefix }}_gitlab-runner-generic-1/etc.gitlab-runner:/etc/gitlab-runner \
--add-host "gitlab.{{ project_domain_name }}:{{ service_host_ip }}" \
gitlab/gitlab-runner:ubuntu-v15.11.0 \
register \
--template-config /etc/gitlab-runner/config_templates/gitlab-runner-generic.config.toml \
--non-interactive \
--name="gitlab-runner-generic-1" \
--registration-token="__REDACTED__" \
--run-untagged="true" \
--locked="false" \
--access-level="not_protected"



## remove all containers
docker rm $(docker ps -aq)


nslookup -type=a gitlab. | grep -E Address:[[:space:]]* | grep -v 127.0 | grep -o -E [0-9\.]+



git clone https://github.com/nexB/scancode-toolkit
cd scancode-toolkit
docker build --tag scancode-toolkit --tag scancode-toolkit:$(git describe --tags) .
docker run -v $PWD/:/project scancode-toolkit -clipeu -n 6 --classify --json-pp /project/scan-result.json /project/data-analysis-platform

refs: 
- https://scancode-toolkit.readthedocs.io/en/stable/getting-started/install.html#installation-via-docker
- https://scancode-workbench.readthedocs.io/en/develop/getting-started/index.html#download-and-install

    
    

